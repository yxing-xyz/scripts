#! █░█ █▄█ █▀█ █▀█ █░░ █▀█ █▀▀ █▄▀
#! █▀█ ░█░ █▀▀ █▀▄ █▄▄ █▄█ █▄▄ █░█

#*  Hyprlock Configuration File 
# Please do not edit this file manually.
# Follow the instructions below on how to make changes.
source = ./defaults.conf #

#* Hyprlock active layout path:
# Set the layout path to be used by Hyprlock.
# Check the available layouts in the './hyprlock/' directory.
# Example: /=/path/to/anurati
$LAYOUT_PATH=~/.config/hypr/hyprlock/theme.conf

#*  Persistent layout declaration 
# If a persistent layout path is declared in $XDG_CONFIG_HOME/hypr/hyde.conf,
# the above layout setting will be ignored.
# this should be the full path to the layout file.

#*  All boilerplate configurations are handled by HyDE 
#! Hyprlock Boilerplate Configuration File

#  Hyprlock default configuration file handler
$BACKGROUND_PATH = $XDG_CACHE_HOME/hyde/wall.set.png
$HYPRLOCK_BACKGROUND = $XDG_CACHE_HOME/hyde/wallpapers/hyprlock.png
$SPLASH_CMD = hyprlock.sh --mpris '' || hyprctl splash
$MPRIS_TEXT = hyprlock.sh --mpris ''
$MPRIS_IMAGE = $XDG_CACHE_HOME/hyde/landing/mpris.png
$PROFILE_IMAGE = $XDG_CACHE_HOME/hyde/landing/profile.png
$GREET_TEXT =echo "Good $(date +%H | awk '{if ($1 < 12) print "Morning  "; else if ($1 < 18) print "Afternoon  "; else print "Evening  "}')"
$CAVA_CMD= { [ -f /tmp/hyprlock-cava ] && tail -n 1 /tmp/hyprlock-cava 2>/dev/null ;}  ||  { hyprctl dispatch exec "hyprlock.sh cava  && rm /tmp/hyprlock-cava" ;}
$WEATHER_CMD = echo "<b>Feels like<big> $(curl -s 'wttr.in?format=%t' | tr -d '+') </big></b>"
$KEYBOARD_LAYOUT = grep -m 1 "$(hyprctl -j devices | jq -r '.keyboards[] | select(.main == true) | .active_keymap')" /usr/share/X11/xkb/rules/base.lst | awk  '{print $1}'
$BATTERY_ICON = battery.sh icon

# hyprlang noerror true
# Source users custom hyprlock layout

# hyprlang noerror false


# See the file first to see the equivalent colors
source = ./themes/colors.conf

general{
    fractional_scaling=1
    # immediate_render=true
    # grace = true
}

background {
    color = $wallbash_pry1_rgba
}

label {
    text = cmd[update:86400000] font.sh resolve "$LAYOUT_PATH" & disown
    position = 50%, -20%
    font_size = 20
    valign = top
}


# Source Layouts
hyprlang noerror true
source = $LAYOUT_PATH
hyprlang noerror false


#*  Making a custom layout 
# To create a custom layout, make a file in the './hyprlock/' directory.
# Example: './hyprlock/your_custom.conf'
# To use the custom layout, set the following variable:
# $LAYOUT_PATH=your_custom
# The custom layout will be sourced automatically.
# Alternatively, you can statically source the layout in '~/.config/hypr/hyde.conf'.
# This will take precedence over the variable in '~/.config/hypr/hyprlock.conf'.


#*  Command Variables 
# Hyprlock ships with there default variables that can be used to customize the lock screen.
# - https://wiki.hyprland.org/Hypr-Ecosystem/hyprlock/#label
# HyDE also provides custom variables that extend the functionality of Hyprlock.

# $BACKGROUND_PATH
# - The path to the wallpaper image.

# $HYPRLOCK_BACKGROUND
# - The path to the static hyprlock wallpaper image.
# - Can be set to set a static wallpaper for Hyprlock.

# $MPRIS_IMAGE
# - The path to the MPRIS image.
# - If MPRIS is not available, it will show the ~/.face.icon image
# - if available, otherwise, it will show the HyDE logo.

# $PROFILE_IMAGE
# - The path to the profile image.
# - If the image is not available, it will show the ~/.face.icon image
# - if available, otherwise, it will show the HyDE logo.

# $GREET_TEXT
# - A greeting text to be displayed on the lock screen.
# - The text will be updated every hour.

# $resolve.font
# - Resolves the font name and download link.
# - HyDE will run 'font.sh resolve' to install the font for you.
# - Note that you needed to have a network connection to download the font.
# - You also need to restart Hyprlock to apply the font.

# cmd [update:1000] $MPRIS_TEXT
# - Text from media players in "Title  Author" format.


# cmd [update:1000] $SPLASH_CMD
# - Outputs the song title when MPRIS is available,
# - otherwise, it will output the splash command.

# cmd [update:1] $CAVA_CMD
# - The command to be executed to get the CAVA output.
# - ⚠️ (Use with caution as it eats up the CPU.)

# cmd [update:5000] $BATTERY_ICON
# - The battery icon to be displayed on the lock screen.
# - Only works if the battery is available.

# cmd [update:1000] $KEYBOARD_LAYOUT
# - The current keyboard layout
# - SUPER + K to change the keyboard layout (or any binding you set)
